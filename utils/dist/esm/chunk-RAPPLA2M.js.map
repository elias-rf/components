{
  "version": 3,
  "sources": ["../../src/knexAdapter.ts"],
  "sourcesContent": ["function getCmd(cmd: string, stack: any[]) {\n  return stack.filter(\n    (item: { [idx: string]: any }) => Object.keys(item)[0] === cmd\n  );\n}\n\nexport function knexAdapter(dao: any) {\n  return (stack: any) => {\n    let rsp = dao;\n\n    getCmd(\"knex\", stack).forEach((item: any) => {\n      rsp = rsp.from(item.knex);\n    });\n\n    getCmd(\"where\", stack).forEach((item: any) => {\n      item.where.forEach((it: any) => (rsp = rsp.where(it)));\n    });\n\n    getCmd(\"orderBy\", stack).forEach((item: any) => {\n      item.orderBy.forEach((it: any) => (rsp = rsp.order(it)));\n    });\n\n    getCmd(\"select\", stack).forEach((item: any) => {\n      rsp = rsp.select(item.select);\n    });\n\n    const response = rsp.get();\n\n    rsp.reset();\n    return response;\n  };\n}\n"],
  "mappings": "AAAA,SAASA,EAAOC,EAAaC,EAAc,CACzC,OAAOA,EAAM,OACVC,GAAiC,OAAO,KAAKA,CAAI,EAAE,KAAOF,CAC7D,CACF,CAEO,SAASG,EAAYC,EAAU,CACpC,OAAQH,GAAe,CACrB,IAAII,EAAMD,EAEVL,EAAO,OAAQE,CAAK,EAAE,QAASC,GAAc,CAC3CG,EAAMA,EAAI,KAAKH,EAAK,IAAI,CAC1B,CAAC,EAEDH,EAAO,QAASE,CAAK,EAAE,QAASC,GAAc,CAC5CA,EAAK,MAAM,QAASI,GAAaD,EAAMA,EAAI,MAAMC,CAAE,CAAE,CACvD,CAAC,EAEDP,EAAO,UAAWE,CAAK,EAAE,QAASC,GAAc,CAC9CA,EAAK,QAAQ,QAASI,GAAaD,EAAMA,EAAI,MAAMC,CAAE,CAAE,CACzD,CAAC,EAEDP,EAAO,SAAUE,CAAK,EAAE,QAASC,GAAc,CAC7CG,EAAMA,EAAI,OAAOH,EAAK,MAAM,CAC9B,CAAC,EAED,IAAMK,EAAWF,EAAI,IAAI,EAEzB,OAAAA,EAAI,MAAM,EACHE,CACT,CACF",
  "names": ["getCmd", "cmd", "stack", "item", "knexAdapter", "dao", "rsp", "it", "response"]
}
